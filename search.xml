<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[一个基于jquery的仿vue的简易js模板]]></title>
    <url>%2F2019%2F06%2F26%2Fwuedemo%2F</url>
    <content type="text"><![CDATA[现在的项目大部分都是前后端分离的模式，作为后端开发者，喜欢用一些成熟的前端框架（如：layui）方便开发，尤其在前端工程师紧缺的情况下，后端开发者可以容易入手，后来又引入了vue.js使原有的HTML数据渲染和js动态操作更加快捷。但是在一次政府项目中，要求浏览器支持到ie8，这样vue支持的不好，因此将原来的vue写法改成原始jquery写法，为了改动最小化，便写了一个简单js，用于支持模板替换、el表达式解析等功能，我将名字命名为wue.js ##1. 支持的模板 v-text 标签内文本替换 v-value 标签中value值替换 v-each 标签内部节点遍历 i-value v-each使用标签中循环子节点中使用，替换内部子节点value值 i-text v-each使用循环子节点中使用，替换内部子节点内文本值 i-click v-each使用循环子节点中使用，为内部子节点添加点击事件 e-click 标签添加点击事件 2. HTML中模板的使用 页面引入jquery.min.js和wue.js 查看文件wue.js 定义一个wue实例，js标签写在HTML中的body内最底部。 1234567891011121314151617181920212223242526var vm_app = new Wue(&#123; el:"#app", data:&#123; title:"一个案例", user:&#123; name:"张三", age:25 &#125;, menu:[ &#123;"id":"bh1","name":"目录1"&#125;, &#123;"id":"bh2","name":"目录2"&#125;, &#123;"id":"bh3","name":"目录3"&#125;, ], &#125;, methods:&#123; init:function()&#123; this.replaceModel(); &#125;, show:function(p)&#123; alert(this.title+"--"+p) &#125; &#125;&#125;);vm_app.init(); 参数说明： el dom选择器，限定模板的解析范围 data 数据定义 methods 方法定义 init 页面加载完成后的执行入口方法 页面定义模板 模板均使用在HTML标签的属性中，模板名作为属性名，值中使用双大括号作为解析对象 v-text、v-value写法一样，例如v-text=&quot;姓名-&quot; ,双大括号中的内容，会使用wue实例中data内的值进行解析并替换，双大括号外的内容不解析。 e-click定义在属性中，为该标签添加点击事件，事件的函数可以使用多个参数，参数之间用,分隔，可以是变量取值，也可以是其他常量，例如e-click=&quot;show(user.name)&quot;，e-click=&quot;show(&#39;这是点击事件&#39;)&quot;，e-click=&quot;sayUser(&#39;姓名&#39;,user.name,user.id)&quot;。 v-each写在循环体元素的父标签上，写法为v-each=&quot;m,item in menu&quot;或v-each=&quot;m in menu&quot;，字母in 前后分别为遍历的变量名、被遍历的数据集合，与in分别严格用一个空格隔开，变量名部分可以用，分隔，左侧为数据变量名，右侧为元数据对象，里面包含：索引值index，序号：num，总行数count。 内部循环体元素定义时，需要添加隐藏属性style=&quot;display:none&quot;，用于循环的 参照模板，它的属性中使用i-text、i-value进行文本和value属性赋值，取值对象则为自定义的循环变量或元数据变量，例如i-text=&quot;&quot;，i-text=&quot;&quot;，如果添加点击事件则使用i-click，例如i-click=&quot;show(m.id)&quot;，i-click=&quot;show(&#39;我是循环元素的点击事件&#39;)&quot;，事件的函数定义方式和e-click相同。 使用wue的实例名，调用init()方法进行初始化，init方法内部为页面加载完成后要执行的逻辑，this.replaceModel()调用时执行模板解析和替换逻辑，replaceModel()方法可以携带一个参数，参数为dom选择器，如replaceModel(&#39;#table&#39;)，注意该选择器必须在el内部，表示仅解析或替换指定范围的模板。调用该方法根据逻辑需要，放于数据返回并已赋值给wue实例之后，赋值方法如this.resultdata = r.data。 3. 完整案例123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset="utf-8"&gt; &lt;title&gt;el解析案例&lt;/title&gt; &lt;!-- 引入jQuery --&gt; &lt;script src="js/jquery.min.js"&gt;&lt;/script&gt; &lt;!-- 引入自定义的wue.js --&gt; &lt;script src="js/wue.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body &gt; &lt;div id="app"&gt; &lt;div&gt; v-text属性：&lt;span v-text="这是标题：&#123;&#123;title&#125;&#125;"&gt;这是标题：&lt;/span&gt; &lt;/div&gt; &lt;div&gt; v-value属性:&lt;input type="text" v-value="&#123;&#123;user.name&#125;&#125;"&gt;&lt;/input&gt; &lt;/div&gt; &lt;div&gt; e-click属性:&lt;button e-click="show('点击事件')"&gt;点击按钮&lt;/button&gt; &lt;/div&gt; &lt;div&gt; v-each:属性 &lt;ul v-each="m,item in menu"&gt; &lt;li style="display:none" &gt; &lt;span i-text="&#123;&#123;item.num&#125;&#125;"&gt;&lt;/span&gt; &lt;a href="javascript:;" i-click="show(m.id)" i-text="&#123;&#123;m.name&#125;&#125;"&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;script&gt; var vm_app = new Wue(&#123; el:"#app", data:&#123; title:"一个案例", user:&#123; name:"张三", age:25 &#125;, menu:[ &#123;"id":"bh1","name":"目录1"&#125;, &#123;"id":"bh2","name":"目录2"&#125;, &#123;"id":"bh3","name":"目录3"&#125;, ], &#125;, methods:&#123; init:function()&#123; this.replaceModel(); &#125;, show:function(p)&#123; alert(this.title+"--"+p) &#125; &#125; &#125;); vm_app.init(); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 页面效果：]]></content>
      <categories>
        <category>前端</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[从这里开始]]></title>
    <url>%2F2019%2F03%2F14%2Fhello-world%2F</url>
    <content type="text"><![CDATA[我的个人博客搭建好了，先简单尝试发表一篇吧，在后续有空时间里，我将写一些JAVA学习总结，以及自己平时生活爱好随笔，欢迎大家随时访问，记住我的博客域名 www.weiller.cn 。下面分享一篇美文。 轻轻晃动手中地茶杯，看淡绿色地茶或针或片，忽上忽下，簇拥着，沉沉浮浮，变换着不同地位置，试图寻找-个属于自己地最佳平衡点。心急地我常常等不得茶泡好，就轻吹杯口，带动-漾-漾地茶涡，看茶叶聚聚散散，无奈分离。呷-小口茶，任清清浅浅地苦涩在舌间荡漾开来，充溢齿喉。之后，深吸-口气，余香满唇，在肺腑间蔓延开来，涤尽了-切地疲惫冷漠。人仿佛也醉了，朦胧中，久久不愿醒来。 是夜，茶香满室，杯中茶由淡变浓，浮浮沉沉，聚聚散散，苦涩清香中慢慢感悟：人生亦如茶。]]></content>
      <categories>
        <category>随笔</category>
      </categories>
  </entry>
</search>
